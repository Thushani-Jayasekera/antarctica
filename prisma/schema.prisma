// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

  model User {

  id          Int     @id @default(autoincrement())

  email       String  @unique

  username    String  @unique

  avatar      String  @default("")

  banner      String  @default("")

  displayname String  @default("")

  description String  @db.VarChar(1000) @default("")

  posts       Post[]

  likes       Like[]

  reposts     Repost[]

  followers     Follow[] @relation(name: "FollowingUser")

  following     Follow[] @relation(name: "FollowerUser")

}

model Post {

  id          Int      @id @default(autoincrement())

  content     String?

  author      User     @relation(fields: [authorId], references: [id])

  authorId    Int

  createdAt   DateTime @default(now())

  likes       Like[]

  reposts     Repost[]





}

model Like {
  id          Int @id @default(autoincrement())

  author      User     @relation(fields: [authorId], references: [id])

  authorId    Int

  post        Post     @relation(fields: [postId], references: [id])

  postId      Int

}

model Repost {
  id          Int @id @default(autoincrement())

  author      User     @relation(fields: [authorId], references: [id])

  authorId    Int

  post        Post     @relation(fields: [postId], references: [id])

  postId      Int

    createdAt   DateTime @default(now())


}

model Follow {

    id          Int @id @default(autoincrement())


  follower    User     @relation(fields: [followerId], references: [id], name: "FollowerUser")

  followerId  Int


  following   User     @relation(fields: [followingId], references: [id], name: "FollowingUser")

  followingId Int

}